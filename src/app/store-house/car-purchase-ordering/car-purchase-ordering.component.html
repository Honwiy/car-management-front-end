<div nz-row [nzGutter]="24" style="margin: 0px;">
  <i nz-icon nzType="car" nzTheme="outline"></i>
  <span style="margin-left: 10px;">车辆采购</span>
</div>
<br>
<form nz-form [nzLayout]="'horizontal'" 
    class="ant-advanced-search-form searchlist" 
    [formGroup]="carPurchaseOrderingForm"
    (ngSubmit)="submitForm()">
  
  <nz-form-item hidden>
    <nz-form-label [nzSpan]="5">订单唯一码</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="12">
      <input nz-input id="orderingCode" formControlName="checkOrderingCode" name="orderingCode"  [(ngModel)]="carPurchaseOrdering.orderingCode"/>
    </nz-form-control>
  </nz-form-item>
  <!--品牌-->
  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="5">品牌</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="12" nzErrorTip="请选择品牌">
      <nz-select
        id="brandId"
        name="brand"
        formControlName="checkBrand"
        [(ngModel)]="carPurchaseOrdering.brand"
        nzAllowClear
        nzPlaceHolder="请选择品牌"
        [nzAllowClear] = false
        (ngModelChange)="selectBrand($event)"
      >
        <nz-option *ngFor="let item of brandDropdownList" nzValue="{{item.PropertyItemCode}}" nzLabel="{{item.PropertyItemText}}"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <!--车系-->
  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="5">车系</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="12" nzErrorTip="请选择车系">
      <nz-select
        id="seriesId"
        name="series"
        formControlName="checkSeries"
        [(ngModel)]="carPurchaseOrdering.carSeries"
        nzAllowClear
        nzPlaceHolder="请选择车系"
        (ngModelChange)="selectCarSeries($event)"
        [nzAllowClear] = false
        [nzNotFoundContent]="'无该品牌车系'"
      >
        <nz-option *ngFor="let item of seriesDropdownList" nzValue="{{item.PropertyItemCode}}" nzLabel="{{item.PropertyItemText}}"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <!--车型-->
  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="5">车型</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="12" nzErrorTip="请选择车型">
      <nz-select
        id="typeId"
        name="type"
        formControlName="checkType"
        [(ngModel)]="carPurchaseOrdering.carType"
        nzAllowClear
        nzPlaceHolder="请选择车型"
        [nzAllowClear] = false
        (ngModelChange)="selectCarType($event)"
        [nzNotFoundContent]="'无该系列车型'"
      >
        <nz-option *ngFor="let item of typeDropdownList" nzValue="{{item.PropertyItemCode}}" nzLabel="{{item.PropertyItemText}}"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <!--车辆型号-->
  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="5">车辆型号</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="12">
      <input nz-input id="typeCodeId" formControlName="checkTypeCode" name="typeCodeId"  [(ngModel)]="carPurchaseOrdering.carTypeCode"/>
    </nz-form-control>
  </nz-form-item>
  <!--车型分类-->
  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="5">车型分类</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="12" nzErrorTip="请选择车型类别">
      <nz-select
        id="typeCategoryId"
        name="typeCategory"
        formControlName="checkTypeCategory"
        [(ngModel)]="carPurchaseOrdering.carTypeCategory"
        nzAllowClear
        nzPlaceHolder="请选择车型类别"
        [nzAllowClear] = false
        (ngModelChange)="selectCarTypeCategory($event)"
        [nzNotFoundContent]="'无该系列车型类别'"
      >
        <nz-option *ngFor="let item of carTypeCategoryDropdownList" nzValue="{{item.PropertyItemCode}}" nzLabel="{{item.PropertyItemText}}"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <!--车身颜色-->
  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="5">车身颜色</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="12" nzErrorTip="请选择车身颜色">
      <nz-select
        nzShowSearch
        id="colorId"
        name="color"
        formControlName="checkColor"
        [(ngModel)]="carPurchaseOrdering.carColor"
        [nzFilterOption]="nzFilterOption"
        nzAllowClear
        nzPlaceHolder="请选择车身颜色"
        [nzAllowClear] = false
      >
        <nz-option *ngFor="let item of colorDropdownList" nzValue="{{item.PropertyItemCode}}" nzLabel="{{item.PropertyItemText}}"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <!-- 波箱方式 -->
  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="5">波箱方式</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="12" nzErrorTip="请选择波箱方式">
      <nz-select
        nzShowSearch
        id="transmission"
        name="transmission"
        formControlName="checkGearboxType"
        [(ngModel)]="carPurchaseOrdering.transmission"
        [nzFilterOption]="nzFilterOption"
        nzAllowClear
        nzPlaceHolder="请选择波箱方式"
        [nzAllowClear] = false
      >
        <nz-option *ngFor="let item of transmissionDropdownList" nzValue="{{item.PropertyItemCode}}" nzLabel="{{item.PropertyItemText}}"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <!--订购日期-->
  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="5">订购日期</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="4" nzErrorTip="请选择订购日期">
      <nz-date-picker
      nzFormat="yyyy-MM-dd HH:mm:ss"
      nzShowTime
      formControlName="checkPurchaseOrderingDate"
      nzPlaceHolder="请选择订购日期"
      [(ngModel)]="carPurchaseOrdering.purchaseOrderingDate"
      (ngModelChange)="changeDateTime($event, 'purchaseOrderingDate')"
      [nzAllowClear] = false
    ></nz-date-picker>
    </nz-form-control>
    
    <nz-form-label nzRequired [nzSpan]="3" style="margin-left:1.8rem">计划日期</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="8" nzErrorTip="请选择计划日期">
      <nz-date-picker
      nzFormat="yyyy-MM-dd HH:mm:ss"
      nzShowTime
      formControlName="checkPlanningDate"
      nzPlaceHolder="请选择计划日期"
      [(ngModel)]="carPurchaseOrdering.purchaseOrderingPlanningDate"
      (ngModelChange)="changeDateTime($event, 'planningDate')"
      [nzAllowClear] = false
    ></nz-date-picker>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzRequired [nzSpan]="5">采购数量</nz-form-label>
    <nz-form-control nzHasFeedback [nzSpan]="12" nzErrorTip="请输入采购数量">
      <input nz-input id="purchaseOrderingCount" type="number" formControlName="checkPurchaseOrderingCount" placeholder="请输入采购数量" name="purchaseOrderingCount" [(ngModel)]="carPurchaseOrdering.purchaseOrderingCount"/>
    </nz-form-control>
  </nz-form-item>
  <div nz-row>
    <div nz-col [nzSpan]="24" class="search-area">
      <button nz-button [nzType]="'primary'" (click)="saveCarPurchaseOrdering()">
        提交采购订单
        <i nz-icon nzType="right"></i>
        </button>
    </div>
  </div> 
</form>
<br>
